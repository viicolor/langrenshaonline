# 狼人杀游戏用户文档

## 目录

- [快速开始](#快速开始)
- [游戏规则](#游戏规则)
- [角色介绍](#角色介绍)
- [游戏流程](#游戏流程)
- [操作指南](#操作指南)
- [AI 玩家](#ai-玩家)
- [观战模式](#观战模式)
- [常见问题](#常见问题)

## 快速开始

### 1. 创建账户

1. 访问游戏网站
2. 点击"注册"按钮
3. 填写用户名、邮箱和密码
4. 点击"创建账户"

### 2. 加入房间

1. 登录后，进入游戏大厅
2. 选择一个房间或创建新房间
3. 点击"加入房间"
4. 选择"上桌参与游戏"或"观战模式"

### 3. 开始游戏

1. 等待其他玩家加入（至少 6 人）
2. 所有玩家点击"准备"
3. 房主点击"开始游戏"
4. 游戏自动分配角色并开始

## 游戏规则

### 基本规则

1. **玩家数量**：6-12 人
2. **胜利条件**：
   - 好人阵营：淘汰所有狼人
   - 狼人阵营：狼人数量大于等于好人数量
3. **游戏阶段**：夜晚 → 白天 → 投票 → 夜晚（循环）
4. **发言规则**：只有白天可以发言，夜晚禁言
5. **投票规则**：白天结束时投票，得票最多者出局

### 阶段说明

#### 夜晚阶段（60 秒）

- 所有玩家闭眼
- 狼人选择袭击目标
- 预言家查验一名玩家身份
- 女巫使用解药或毒药
- 守卫守护一名玩家

#### 白天阶段（120 秒）

- 所有玩家睁眼
- 公布昨晚死亡情况
- 玩家自由发言讨论
- 分析和推理

#### 投票阶段（30 秒）

- 玩家投票选择要淘汰的玩家
- 可以选择弃票
- 得票最多者出局
- 平票则无人出局

## 角色介绍

### 狼人阵营

#### 狼人

- **技能**：每晚可以袭击一名玩家
- **目标**：消灭所有好人
- **数量**：2-4 人（根据总人数）
- **提示**：隐藏身份，假装好人

### 好人阵营

#### 村民

- **技能**：无特殊技能
- **目标**：通过投票淘汰狼人
- **数量**：3-8 人
- **提示**：观察发言，理性分析

#### 预言家

- **技能**：每晚可以查验一名玩家的身份
- **目标**：找出狼人
- **数量**：1 人
- **提示**：谨慎发言，避免暴露

#### 女巫

- **技能**：拥有一瓶解药和一瓶毒药
- **目标**：救活被袭击的玩家或毒杀可疑玩家
- **数量**：1 人
- **限制**：每瓶药只能使用一次
- **提示**：合理使用药水，不要浪费

#### 猎人

- **技能**：死亡时可以开枪带走一名玩家
- **目标**：在死亡时带走一个可疑玩家
- **数量**：1 人
- **限制**：被毒死时不能开枪
- **提示**：保护自己，避免被投票

#### 守卫

- **技能**：每晚可以守护一名玩家免受狼人袭击
- **目标**：保护重要玩家
- **数量**：1 人
- **限制**：不能连续两晚守护同一人
- **提示**：优先守护神职玩家

#### 白痴

- **技能**：被投票出局时可以翻牌免死
- **目标**：避免被投票出局
- **数量**：1 人
- **限制**：翻牌后失去投票权
- **提示**：谨慎发言，避免被投票

## 游戏流程

### 1. 等待阶段

- 玩家加入房间
- 选择座位
- 点击准备
- 等待房主开始游戏

### 2. 角色分配

- 游戏开始时随机分配角色
- 查看自己的角色卡片
- 了解自己的技能和目标

### 3. 夜晚阶段

- 狼人讨论并选择袭击目标
- 预言家选择查验目标
- 女巫决定是否使用药水
- 守卫选择守护目标
- 所有行动同时执行

### 4. 白天阶段

- 公布昨晚死亡情况
- 幸存玩家自由发言
- 分析和推理
- 讨论可疑玩家

### 5. 投票阶段

- 玩家投票选择要淘汰的玩家
- 可以选择弃票
- 得票最多者出局
- 平票则无人出局

### 6. 循环

- 回到夜晚阶段
- 重复 3-5 步
- 直到满足胜利条件

### 7. 游戏结束

- 公布获胜阵营
- 显示游戏统计
- 显示 MVP
- 可以开始新游戏

## 操作指南

### 基本操作

#### 加入房间

1. 在游戏大厅选择房间
2. 点击"加入房间"
3. 选择"上桌参与游戏"或"观战模式"

#### 选择座位

1. 在等待阶段，点击圆桌上的空座位
2. 确认选择
3. 座位号会显示在你的头像上

#### 准备游戏

1. 点击"准备"按钮
2. 按钮变为"取消准备"
3. 所有玩家准备后，房主可以开始游戏

#### 发送消息

1. 点击右下角的聊天按钮
2. 输入消息内容
3. 点击发送按钮或按 Enter 键
4. 消息会显示在聊天区域

### 角色操作

#### 狼人操作

**夜晚**：
1. 点击"袭击"按钮
2. 选择要袭击的玩家
3. 确认选择

**白天**：
1. 在聊天中发言
2. 隐藏身份，假装好人
3. 引导投票到好人

#### 预言家操作

**夜晚**：
1. 点击"查验"按钮
2. 选择要查验的玩家
3. 查看查验结果（好人/狼人）

**白天**：
1. 谨慎发言
2. 不要暴露身份
3. 引导好人阵营

#### 女巫操作

**夜晚**：
1. 点击"使用解药"或"使用毒药"
2. 选择目标玩家
3. 确认使用

**限制**：
- 解药和毒药各只能使用一次
- 不能对自己使用

#### 猎人操作

**死亡时**：
1. 点击"开枪"按钮
2. 选择要带走的玩家
3. 确认开枪

**限制**：
- 被毒死时不能开枪
- 只能开枪一次

#### 守卫操作

**夜晚**：
1. 点击"守护"按钮
2. 选择要守护的玩家
3. 确认守护

**限制**：
- 不能连续两晚守护同一人
- 不能守护自己

#### 白痴操作

**被投票时**：
1. 点击"翻牌"按钮
2. 免除死亡
3. 失去投票权

**限制**：
- 只能在被投票时使用
- 只能使用一次

### 投票操作

#### 投票给玩家

1. 在投票阶段，点击要投票的玩家头像
2. 确认投票
3. 查看投票统计

#### 弃票

1. 点击"弃票"按钮
2. 确认弃票
3. 不参与本轮投票

## AI 玩家

### AI 玩家介绍

AI 玩家是由人工智能控制的虚拟玩家，可以在游戏中替代真人玩家。

### AI 玩家特点

- **自动决策**：根据游戏情况自动做出决策
- **性格多样**：支持激进、冷静、分析型、狡猾、合作型等性格
- **智能对话**：可以生成合理的发言内容
- **技能使用**：自动使用角色技能

### AI 玩家配置

在游戏设置中可以配置：

1. **AI 提供商**：
   - OpenAI（需要 API 密钥）
   - 通义千问（需要 API 密钥）
   - 基于规则（免费）

2. **默认性格**：
   - 激进：喜欢主动出击
   - 冷静：喜欢理性分析
   - 分析型：注重逻辑推理
   - 狡猾：善于隐藏身份
   - 合作型：喜欢团队合作

3. **行动冷却**：
   - AI 玩家行动的最小间隔（毫秒）
   - 默认：3000 毫秒

### 添加 AI 玩家

1. 在房间设置中启用 AI 玩家
2. 选择要添加的 AI 玩家数量
3. 选择 AI 玩家的性格
4. 点击"添加 AI 玩家"

### AI 玩家行为

#### 狼人 AI

- 夜晚：优先袭击神职玩家
- 白天：隐藏身份，假装好人
- 投票：跟随大众，避免暴露

#### 预言家 AI

- 夜晚：查验可疑玩家
- 白天：谨慎发言，避免暴露

#### 女巫 AI

- 夜晚：优先使用解药救人
- 白天：分析发言，决定是否使用毒药

#### 猎人 AI

- 白天：积极发言，引导投票
- 死亡：开枪带走可疑玩家

#### 守卫 AI

- 夜晚：优先守护神职玩家
- 白天：观察发言，调整守护策略

#### 村民 AI

- 白天：观察他人发言，谨慎投票
- 投票：跟随大众，避免被怀疑

## 观战模式

### 观战模式介绍

观战模式允许玩家在不参与游戏的情况下观看游戏进程。

### 观战视角

#### 上帝视角

- 查看所有游戏信息
- 查看所有玩家的行动
- 查看所有聊天消息
- 适合游戏管理员和裁判

#### 跟随玩家视角

- 选择一个玩家进行跟随
- 只看到该玩家能看到的信息
- 适合学习特定角色的玩法

#### 跟随身份视角

- 选择一个身份进行跟随
- 看到所有该身份玩家的信息
- 适合学习特定角色的策略

### 观战功能

#### 观战记录

- 查看所有游戏事件
- 按类型过滤记录
- 查看记录详情
- 导出记录（JSON/CSV）

#### 游戏统计

- 查看游戏时长
- 查看总回合数
- 查看 AI 玩家行动统计
- 查看 MVP 信息

#### 实时更新

- 游戏状态实时更新
- 玩家状态实时更新
- 聊天消息实时更新

## 常见问题

### 游戏相关

#### Q: 游戏最少需要多少人？

A: 游戏最少需要 6 人，最多支持 12 人。

#### Q: 游戏一般持续多长时间？

A: 一般持续 30-60 分钟，取决于玩家数量和游戏进程。

#### Q: 如果玩家掉线怎么办？

A: 掉线的玩家会被标记为离线，如果长时间不重新连接，可能会被踢出房间。

#### Q: 可以中途加入游戏吗？

A: 不可以，游戏开始后无法加入，只能选择观战模式。

#### Q: 游戏可以暂停吗？

A: 不可以，游戏一旦开始就必须进行到结束。

### 角色相关

#### Q: 预言家查验到狼人后应该怎么做？

A: 不要立即暴露身份，应该通过发言引导好人阵营，让其他人相信你的判断。

#### Q: 女巫的解药和毒药可以同时使用吗？

A: 不可以，每瓶药只能使用一次，解药和毒药各一瓶。

#### Q: 猎人被毒死时可以开枪吗？

A: 不可以，猎人只有在被投票出局或被狼人袭击死亡时才能开枪。

#### Q: 守卫可以连续两晚守护同一人吗？

A: 不可以，守卫不能连续两晚守护同一人。

#### Q: 白痴翻牌后还有投票权吗？

A: 没有投票权，但可以继续发言。

### AI 玩家相关

#### Q: AI 玩家需要付费吗？

A: 如果使用 OpenAI 或通义千问，需要相应的 API 密钥和配额。基于规则的 AI 玩家是免费的。

#### Q: AI 玩家会作弊吗？

A: 不会，AI 玩家只能看到普通玩家能看到的信息，不会知道其他玩家的身份。

#### Q: 可以自定义 AI 玩家的性格吗？

A: 可以，在游戏设置中可以设置每个 AI 玩家的性格。

#### Q: AI 玩家的响应速度有多快？

A: AI 玩家的响应速度取决于网络和 API 响应时间，一般在 1-5 秒内。

### 技术相关

#### Q: 支持哪些浏览器？

A: 支持现代浏览器，包括 Chrome 90+、Firefox 88+、Safari 14+、Edge 90+。

#### Q: 支持移动设备吗？

A: 支持，游戏界面是响应式的，可以在手机和平板上正常游玩。

#### Q: 游戏数据会保存吗？

A: 游戏数据会实时保存到服务器，但聊天记录和日志会保存在本地浏览器中。

#### Q: 如何清除缓存？

A: 在浏览器设置中清除网站数据，或者在应用设置中点击"清除缓存"按钮。

#### Q: 遇到 Bug 怎么办？

A: 请在 GitHub Issues 中提交 Bug 报告，包含详细的复现步骤和环境信息。

## 联系支持

如有任何问题或建议，请通过以下方式联系我们：

- GitHub Issues: https://github.com/your-repo/langrensha/issues
- Email: support@langrensha.com
- Discord: https://discord.gg/langrensha

## 更新日志

### 版本 1.0.0

- 初始版本发布
- 完整的游戏功能
- AI 玩家支持
- 观战模式
- 多种角色和技能
